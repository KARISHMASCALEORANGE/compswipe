{"ast":null,"code":"import axios from 'axios';\nimport { useState } from 'react';\n// const [redirectUrl, setRedirectUrl] = useState('');\n\nexport const addtocart = async payload => {\n  try {\n    console.log(payload);\n    const response = await axios.post('http://localhost:5000/api/cart/add', payload, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    console.log(\"Response from backend:\", response.data);\n    if (response.status === 200) {\n      console.log('Cart items successfully posted to the backend');\n      return response.data;\n    } else {\n      console.error(`Error: Received status code ${response.status}`);\n    }\n  } catch (err) {\n    if (err.response) {\n      console.error(\"Error posting:\", err.response.data);\n    } else {\n      console.error(\"Error posting cart items:\", err.message);\n    }\n  }\n};\nexport const cartToOrder = async eventcart_id => {\n  try {\n    const response = await axios.post('http://localhost:5000/api/transfer-cart-to-order', {\n      eventcart_id\n    }, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    console.log(response);\n  } catch (err) {\n    console.log(err.response ? `Error: ${err.response.data.message || 'An error occurred. Please try again.'}` : 'Network error or no response from the server.');\n  }\n};\n\n//user id update\nexport const myorders = async () => {\n  try {\n    const response = await fetch('http://localhost:5000/api/myorders');\n    console.log(\"res\", response);\n    if (response.data) {\n      setOrderData(response.data);\n    } else {\n      setError('No data received from the server.');\n      setOrderData(null);\n    }\n  } catch (error) {\n    console.log('Failed to fetch orders. Please try again later.');\n    setOrderData(null);\n  } finally {\n    setIsLoading(false);\n  }\n};","map":{"version":3,"names":["axios","useState","addtocart","payload","console","log","response","post","headers","data","status","error","err","message","cartToOrder","eventcart_id","myorders","fetch","setOrderData","setError","setIsLoading"],"sources":["C:/Users/Karishma/Desktop/compswipe/compswipe/client/my-app/src/action.js"],"sourcesContent":["import axios from 'axios';\r\nimport { useState } from 'react';\r\n// const [redirectUrl, setRedirectUrl] = useState('');\r\n\r\n\r\n\r\nexport const addtocart = async(payload)=>{\r\ntry {   console.log(payload);\r\n    const response = await axios.post('http://localhost:5000/api/cart/add', payload, {\r\n      headers: {\r\n        'Content-Type': 'application/json'  \r\n      }\r\n    });\r\n\r\n    console.log(\"Response from backend:\", response.data);  \r\n\r\n    if (response.status === 200) {\r\n      console.log('Cart items successfully posted to the backend');\r\n      return response.data;\r\n    } else {\r\n      console.error(`Error: Received status code ${response.status}`);\r\n    }\r\n  } catch (err) {\r\n    if (err.response) {\r\n      console.error(\"Error posting:\", err.response.data); \r\n    } else {\r\n      console.error(\"Error posting cart items:\", err.message);  \r\n    }\r\n  }}\r\n\r\n  export const cartToOrder = async(eventcart_id)=>{\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/api/transfer-cart-to-order', {\r\n      eventcart_id\r\n      }, {\r\n        headers: {\r\n          'Content-Type': 'application/json'  \r\n        }\r\n      });\r\n\r\n      console.log(response);\r\n    } catch (err) {\r\n      console.log(err.response ? `Error: ${err.response.data.message || 'An error occurred. Please try again.'}` : 'Network error or no response from the server.');\r\n    }\r\n  }\r\n\r\n\r\n  //user id update\r\nexport const myorders = async()=>{\r\n  try {\r\n            const response = await fetch('http://localhost:5000/api/myorders');\r\n            console.log(\"res\", response);\r\n            if (response.data) {\r\n              setOrderData(response.data);\r\n            } else {\r\n              setError('No data received from the server.');\r\n              setOrderData(null);\r\n            }\r\n          } catch (error) {\r\n            console.log('Failed to fetch orders. Please try again later.');\r\n            setOrderData(null);\r\n          } finally {\r\n            setIsLoading(false);\r\n          }\r\n   }\r\n\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,OAAO;AAChC;;AAIA,OAAO,MAAMC,SAAS,GAAG,MAAMC,OAAO,IAAG;EACzC,IAAI;IAAIC,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC;IACxB,MAAMG,QAAQ,GAAG,MAAMN,KAAK,CAACO,IAAI,CAAC,oCAAoC,EAAEJ,OAAO,EAAE;MAC/EK,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IAEFJ,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEC,QAAQ,CAACG,IAAI,CAAC;IAEpD,IAAIH,QAAQ,CAACI,MAAM,KAAK,GAAG,EAAE;MAC3BN,OAAO,CAACC,GAAG,CAAC,+CAA+C,CAAC;MAC5D,OAAOC,QAAQ,CAACG,IAAI;IACtB,CAAC,MAAM;MACLL,OAAO,CAACO,KAAK,CAAC,+BAA+BL,QAAQ,CAACI,MAAM,EAAE,CAAC;IACjE;EACF,CAAC,CAAC,OAAOE,GAAG,EAAE;IACZ,IAAIA,GAAG,CAACN,QAAQ,EAAE;MAChBF,OAAO,CAACO,KAAK,CAAC,gBAAgB,EAAEC,GAAG,CAACN,QAAQ,CAACG,IAAI,CAAC;IACpD,CAAC,MAAM;MACLL,OAAO,CAACO,KAAK,CAAC,2BAA2B,EAAEC,GAAG,CAACC,OAAO,CAAC;IACzD;EACF;AAAC,CAAC;AAEF,OAAO,MAAMC,WAAW,GAAG,MAAMC,YAAY,IAAG;EAC9C,IAAI;IACF,MAAMT,QAAQ,GAAG,MAAMN,KAAK,CAACO,IAAI,CAAC,kDAAkD,EAAE;MACtFQ;IACA,CAAC,EAAE;MACDP,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IAEFJ,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;EACvB,CAAC,CAAC,OAAOM,GAAG,EAAE;IACZR,OAAO,CAACC,GAAG,CAACO,GAAG,CAACN,QAAQ,GAAG,UAAUM,GAAG,CAACN,QAAQ,CAACG,IAAI,CAACI,OAAO,IAAI,sCAAsC,EAAE,GAAG,+CAA+C,CAAC;EAC/J;AACF,CAAC;;AAGD;AACF,OAAO,MAAMG,QAAQ,GAAG,MAAAA,CAAA,KAAS;EAC/B,IAAI;IACM,MAAMV,QAAQ,GAAG,MAAMW,KAAK,CAAC,oCAAoC,CAAC;IAClEb,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEC,QAAQ,CAAC;IAC5B,IAAIA,QAAQ,CAACG,IAAI,EAAE;MACjBS,YAAY,CAACZ,QAAQ,CAACG,IAAI,CAAC;IAC7B,CAAC,MAAM;MACLU,QAAQ,CAAC,mCAAmC,CAAC;MAC7CD,YAAY,CAAC,IAAI,CAAC;IACpB;EACF,CAAC,CAAC,OAAOP,KAAK,EAAE;IACdP,OAAO,CAACC,GAAG,CAAC,iDAAiD,CAAC;IAC9Da,YAAY,CAAC,IAAI,CAAC;EACpB,CAAC,SAAS;IACRE,YAAY,CAAC,KAAK,CAAC;EACrB;AACP,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}